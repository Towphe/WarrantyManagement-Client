@model ProductInfoDto
@{
  UserInfoDto userInfo = TempData.Get<UserInfoDto>("userInfo");
  string productName = TempData.Get<string>("productName");
  string tempId = TempData.Get<string>("tempId");
}

<div>
<form asp-action="Finish" method="post">
  <h1>Review Entry</h1>
  <label>First Name</label>
  <input type="text" name="FirstName" id="FirstName" value="@userInfo.FirstName" readonly="true" />
  <label>Last Name</label>
  <input type="text" name="LastName" id="LastName" value="@userInfo.LastName" readonly="true" />
  <label>Contact Number</label>
  <input type="text" name="ContactNumber" id="ContactNumber" value="@userInfo.ContactNumber" />
  <label>Email</label>
  <input type="text" name="Email" id="Email" value="@userInfo.Email" />
  <label>Product Name</label>
  <input type="text" value="@productName" readonly="true"/>
  <input type="text" name="ProductId" id="ProductId" value="@Model.ProductId" readonly="true" hidden />
  <label>Variation</label>
  @{
    if (Model.Variation != ""){
      <input type="text" name="Variation" id="Variation" value="@Model.Variation" readonly="true" />
    }
  }
  <label>Merchant</label>
  <input type="text" name="StoreName" id="StoreName" value="@Model.StoreName" reaonly="true" />
  <label>Sales Order Number</label>
  <input type="text" name="SalesOrderNumber" id="SalesOrderNumber" value="@Model.SalesOrderNumber" readonly="true" />
  <label>Reference Number</label>
  <input name="ReferenceNumber" id="ReferenceNumber" value="@Model.ReferenceNumber" readonly="true">
  <label>Date Received</label>
  <input type="text" name="date" id="date" value="@Model.Date.ToShortDateString()" readonly="true" />
  <label>Product Description</label>
  <input type="text" name="ProductDescription" id="ProductDescription" value="@Model.ProductDescription" readonly="true" />
  <div>
    media goes here
  </div>
  <input type="text" name="MediaJSON" id="MediaJSON" readonly="true" hidden>
  <input type="text" name="TempId" id="TempId" value="@tempId" readonly="true" hidden />
  <label>Images</label>
  <div id="imagesDiv">

  </div>
  <button onclick="submitMedia()" type="submit">Submit</button>
</form>
</div>

<script>
  const images = JSON.parse(localStorage.getItem('images'));
  const imagesDiv = document.getElementById("imagesDiv");
  images.forEach((image) => {
    let newImage = new Image(60%, 34%);
    newImage.src = image;
    imagesDiv.appendChild(newImage);
  });
  const submitMedia = () =>{
    const link = 'media-upload/' + document.getElementById("TempId").value;
    fetch(link, {
      method: 'post',
      body: localStorage.getItem('images')
    }).then(response => console.log(response));
  }
  

</script>